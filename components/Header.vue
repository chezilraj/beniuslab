<template>
  <header :class="['site-header px-90', { 'site-header--white': isWhite }]">
    <div :class="['site-branding', { 'site-branding--white': isMenuAcive }]">
      <button
        :class="[
          'site-menu-toggle',
          { 'site-menu-toggle--active': isMenuAcive },
        ]"
        @click="openMenu()"
      >
        <span class="u-sr-only">Primary Menu</span>
      </button>
      <NuxtLink class="logo-link" to="/">
        <svg
          class="logo"
          width="208"
          height="29"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M179.412.278V0h.794v.278h-.239v.98h-.319v-.98h-.236zM180.865 0l.128.744h.004l.128-.744h.455v1.258h-.298V.32h-.003l-.17.937h-.23L180.71.32h-.004v.937h-.298V0h.457zM51.899.218H39.934c-6.672 2.037-10.591 7.624-10.591 15.2 0 6.2 2.497 10.857 6.912 13.459h19.426c2.865-1.67 4.938-4.18 5.862-7.497H50.427c-.803 1.123-2.232 1.651-4.238 1.651-3.725 0-5.501-1.887-5.674-4.664h21.548c.17-1.476.23-2.599.23-3.422 0-7.653-4.055-12.803-10.394-14.727zM40.688 11.993c.456-3.069 2.062-4.486 5.041-4.486 2.979 0 4.815 1.476 5.098 4.486h-10.14zM91.478.218H80.462c-1.496.835-2.777 2.095-3.754 3.91h-.173V.218H64.67v28.659h12.099V13.476c0-2.996 1.977-4.136 3.955-4.136 2.384 0 3.431 1.618 3.431 4.074v15.46h12.1V11.376c0-5.9-1.787-9.435-4.777-11.163v.004zM134.928.218v16.228c0 3.061-2.024 4.224-4.04 4.224-2.438 0-3.506-1.651-3.506-4.162V.218h-12.361v18.37c0 4.96 1.238 8.28 3.371 10.289h14.321a10.27 10.27 0 0 0 2.278-2.88h.181v2.88h12.123V.218H134.928zM170.966 10.95l-5.862-.838c-1.914-.299-2.551-.896-2.551-1.851 0-1.133 1.048-1.673 3.425-1.673 2.784 0 3.888.835 4.061 2.927h10.847c-.251-4.06-2.126-7.734-7.341-9.465h-15.329c-4.599 1.498-7.086 4.6-7.086 9.286 0 5.678 3.771 8.903 10.617 9.858l5.858.838c1.914.299 2.551.835 2.551 1.851 0 1.196-1.277 1.793-3.654 1.793-2.785 0-4.002-.896-4.235-3.046H150.78c.265 3.633 1.677 6.4 4.305 8.247h22.412c2.794-1.837 4.312-4.588 4.312-8.189 0-5.197-3.014-8.604-10.846-9.737h.003zM22.309 14.278c2.384-1.123 3.895-3.408 3.895-6.425 0-3.448-1.978-6.859-7.705-7.639H0v28.663h23.922c2.391-1.585 3.495-4.09 3.495-7.18s-1.928-6.253-5.108-7.416v-.003zM9.459 7.55h4.65c1.545 0 2.341.777 2.341 2.158 0 1.38-.792 2.153-2.342 2.153H9.46v-4.31zm5.82 15.696H9.46v-4.31h5.82c1.55 0 2.346.775 2.346 2.153 0 1.377-.796 2.154-2.346 2.154v.003zM99.267 11.519v17.358h11.703V11.905a11.45 11.45 0 0 1-5.523 1.418c-2.264 0-4.379-.663-6.18-1.804zM99.267.593v7.249a9.797 9.797 0 0 0 6.18 2.201 9.76 9.76 0 0 0 5.523-1.713V.593H99.267zM186 16.722c0-.148.074-.222.223-.222h.363c.153 0 .23.074.23.222v11.376c0 .149-.074.223-.223.223h-.363c-.153 0-.23-.074-.23-.223V16.722zM196.509 26.886l-.021-.545a4.204 4.204 0 0 1-1.549 1.57 4.207 4.207 0 0 1-2.148.582c-.419 0-.823-.058-1.214-.172a4.43 4.43 0 0 1-1.088-.474c-.34-.21-.651-.459-.935-.746a4.71 4.71 0 0 1-.718-.954 4.938 4.938 0 0 1-.468-1.119 4.828 4.828 0 0 1-.16-1.248c0-.43.053-.844.16-1.24.112-.402.268-.778.468-1.127.204-.349.446-.667.725-.954.279-.287.588-.533.928-.738.339-.21.702-.371 1.088-.481a4.284 4.284 0 0 1 2.33-.021c.367.1.711.246 1.032.437.321.187.614.414.879.681.27.268.5.567.691.897V19.469c0-.152.072-.229.216-.229h.363c.158 0 .237.077.237.23v8.621c0 .081-.026.141-.077.18a.324.324 0 0 1-.181.05h-.286c-.182 0-.272-.086-.272-.259v-1.176zm.041-3.106c0-.52-.102-1.016-.307-1.484a4.06 4.06 0 0 0-2.022-2.095 3.47 3.47 0 0 0-1.437-.323h-.021c-.498 0-.972.106-1.423.316-.447.21-.84.495-1.179.854-.34.353-.609.765-.809 1.233-.2.469-.3.964-.3 1.485 0 .521.095 1.02.286 1.5.195.473.46.89.795 1.254.335.359.725.646 1.172.861.451.21.932.316 1.444.316.516 0 1.004-.103 1.465-.309.465-.21.869-.492 1.213-.846.344-.359.617-.775.816-1.248.205-.474.307-.978.307-1.514zM198.897 16.694c0-.13.063-.194.188-.194l.496.007a.12.12 0 0 1 .09.036.116.116 0 0 1 .035.086v4.612c.126-.177.235-.332.328-.466a3.19 3.19 0 0 1 .328-.409 4.526 4.526 0 0 1 1.395-.925c.26-.115.53-.203.809-.266a4.213 4.213 0 0 1 2.065.079c.39.11.756.268 1.095.474.339.205.649.452.928.738a4.746 4.746 0 0 1 1.179 2.08c.111.402.167.818.167 1.249 0 .43-.056.846-.167 1.248a4.677 4.677 0 0 1-.461 1.126c-.2.344-.439.66-.718.947a4.667 4.667 0 0 1-.928.739 4.413 4.413 0 0 1-1.095.473 4.213 4.213 0 0 1-1.207.172 4.287 4.287 0 0 1-3.048-1.248 2.349 2.349 0 0 1-.342-.416 11.397 11.397 0 0 1-.3-.48l-.028.53v1.205c0 .153-.074.23-.223.23h-.363c-.149 0-.223-.077-.223-.23V16.694zm8.245 7.1c0-.53-.1-1.032-.3-1.506a4.04 4.04 0 0 0-.802-1.248 3.668 3.668 0 0 0-1.186-.846 3.438 3.438 0 0 0-1.458-.316c-.516 0-1.002.108-1.458.323-.455.21-.853.495-1.192.854-.34.358-.607.777-.803 1.255a3.898 3.898 0 0 0-.293 1.499c0 .536.1 1.04.3 1.514.2.473.472.886.816 1.24.349.35.754.627 1.214.832.461.201.949.302 1.465.302.512 0 .991-.105 1.437-.316.451-.21.844-.492 1.179-.846.335-.359.597-.773.788-1.241.195-.474.293-.973.293-1.5z"
            fill="#fff"
          />
        </svg>
      </NuxtLink>
    </div>
    <MegaMenu :is-menu-open="isMenuAcive" />
  </header>
</template>
<script>
export default {
  data() {
    return {
      isMenuAcive: false,
    };
  },
  props: {
    isWhite: {
      type: Boolean,
      required: false,
      default: false,
    },
  },
  methods: {
    openMenu() {
      this.isMenuAcive = !this.isMenuAcive;
      if (this.isMenuAcive) {
        document.body.style.overflowY = "hidden";
      } else {
        document.body.style.overflowY = "auto";
      }
    },
  },
  mounted() {
    document.body.style.overflowY = "auto";
  },
};
</script>

<style lang="scss" scoped>
.site-header {
  position: absolute;
  top: 56px;
  left: 0;
  width: 100%;
  z-index: 2;
  display: flex;
  justify-content: space-between;
  @media screen and (min-width: 768px) {
    top: 68px;
  }
  .u-sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
  .site-menu-toggle {
    position: absolute;
    right: 38px;
    top: 14px;
    transform: translate(0, -50%);
    z-index: 40;
    width: 24px;
    height: 2px;
    padding: 20px 0px;
    margin-right: -12px;
    appearance: none;
    background-color: transparent;
    border: 0;
    cursor: pointer;
    box-sizing: content-box;
    color: #fff;
    transition: color 0.6s ease;
    @media screen and (min-width: 768px) {
      left: 0;
    }
    &::before,
    &::after {
      position: absolute;
      display: block;
      width: 24px;
      height: 2px;
      border-radius: 2px;
      background-color: #fff;
      transition: transform 0.3s cubic-bezier(0.65, 0.05, 0.36, 1);
      content: "";
    }
    &::before {
      transform: translate(0, -4px);
    }
    &::after {
      transform: translate(0, 4px);
      width: 15px;
    }
    &--active {
      &::before {
        transform: translate(0, 0) rotate(45deg);
      }
      &::after {
        transform: translate(0, 0) rotate(-45deg);
        width: 24px;
      }
    }
  }
  .site-branding {
    position: relative;
    z-index: 10;
    svg {
      path {
        fill: #fff;
      }
    }

    .logo-link {
      display: block;
      height: 30px;
      margin-left: 50px;
    }
  }
  &--white {
    .site-menu-toggle {
      &::before,
      &::after {
        background: #000;
        transition: background 0.6s ease-in-out;
      }
      &--active {
        &::before,
        &::after {
          background: #fff;
          transition: background 0.6s ease-in-out;
        }
      }
    }
    .site-branding {
      svg {
        path {
          fill: #000;
          transition: fill 0.6s ease-in-out;
        }
      }
      &--white {
        svg {
          path {
            fill: #fff;
            transition: fill 0.6s ease-in-out;
          }
        }
      }
    }
  }
}
</style>
